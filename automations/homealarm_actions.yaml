# Used to Arm / Disarm Alarm

- id: ArmAlarm
  alias: 'Arm Alarm leaving'
  hide_entity: false
  trigger:
    - platform: state
      entity_id: group.people
      from: 'home'
      to: 'not_home'
  action:
    - service: alarm_control_panel.alarm_arm_away
      entity_id: alarm_control_panel.home
      data:
        code: !secret alarm_code
    - service: notify.PBMax
      data:
        title: House Alarm
        message: The alarm has been armed
    - service: notify.PBSophie
      data:
        title: House Alarm
        message: The alarm has been armed
    - service: climate.set_hold_mode
      data:
        entity_id: climate.livingroomheater_heating_1
        hold_mode: 'away'
    - service: climate.set_hold_mode
      data:
        entity_id: climate.izzyheater_heating_1
        hold_mode: 'away'
#    - service: shell_command.alarmpanelarm

- id: DisarmAlarm
  alias: 'Disarm Alarm at home'
  hide_entity: false
  trigger:
    - platform: state
      entity_id: group.people
      from: 'not_home'
      to: 'home'
  action:
    - service: alarm_control_panel.alarm_disarm
      entity_id: alarm_control_panel.home
      data:
        code: !secret alarm_code
    - service: notify.PBMax
      data:
        title: House Alarm
        message: The alarm has been disarmed
    - service: notify.PBSophie
      data:
        title: House Alarm
        message: The alarm has been disarmed
    - service: climate.set_hold_mode
      data:
        entity_id: climate.livingroomheater_heating_1
        hold_mode: 'home'
    - service: climate.set_hold_mode
      data:
        entityid: climate.izzyheater_heating_1
        hold_mode: 'home'
